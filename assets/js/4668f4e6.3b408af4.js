"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5335],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>y});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),c=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},s="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),s=c(n),d=r,y=s["".concat(p,".").concat(d)]||s[d]||f[d]||o;return n?a.createElement(y,i(i({ref:t},u),{},{components:n})):a.createElement(y,i({ref:t},u))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[s]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},32903:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>s,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const o={sidebar_position:30,description:"Explains how to configure layers."},i="Layer Configuration",l={unversionedId:"tutorial/configuration/layer_config",id:"tutorial/configuration/layer_config",title:"Layer Configuration",description:"Explains how to configure layers.",source:"@site/docs/tutorial/configuration/layer_config.md",sourceDirName:"tutorial/configuration",slug:"/tutorial/configuration/layer_config",permalink:"/docs/tutorial/configuration/layer_config",draft:!1,editUrl:"https://github.com/MARS-Group-HAW/MARS-Group-HAW.github.io/edit/main/docs/tutorial/configuration/layer_config.md",tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30,description:"Explains how to configure layers."},sidebar:"tutorialSidebar",previous:{title:"Agent Configuration",permalink:"/docs/tutorial/configuration/agent_config"},next:{title:"Simulation Output Formats",permalink:"/docs/tutorial/configuration/sim_output_formats"}},p={},c=[{value:"How to configure a layer type externally",id:"how-to-configure-a-layer-type-externally",level:2},{value:"How to configure a layer type internally",id:"how-to-configure-a-layer-type-internally",level:2}],u={toc:c};function s(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"layer-configuration"},"Layer Configuration"),(0,r.kt)("p",null,"The configuration information of a MARS C# model defined the parameters and external data that are to be used during a simulation run. A model can be configured in two ways: either via an external JSON file or from within the program code."),(0,r.kt)("h2",{id:"how-to-configure-a-layer-type-externally"},"How to configure a layer type externally"),(0,r.kt)("p",null,"If the model is configured using ",(0,r.kt)("strong",{parentName:"p"},"an external JSON configuration file"),", layers can be configured as shown in the following example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "layers": [\n    {\n      "name": "LayerName",\n      "file": "path/to/file",\n      "mapping": [\n        {\n          "parameter": "ParameterName", "value": "ParameterValue"\n        }\n      ]\n    }\n  ]\n}\n...\n// agent configuration here\n')),(0,r.kt)("p",null,"The object ",(0,r.kt)("inlineCode",{parentName:"p"},"layers")," contains a list of all the layers defined in the model. ",(0,r.kt)("strong",{parentName:"p"},"Note:")," all layers defined in the model must be referenced in the configuration by matching. The key ",(0,r.kt)("inlineCode",{parentName:"p"},"file")," points to a file (for example, a ",(0,r.kt)("inlineCode",{parentName:"p"},".geojson")," or ",(0,r.kt)("inlineCode",{parentName:"p"},".graphml"),") that contains geospatial information that is to be used to instantiate the layer. The key ",(0,r.kt)("inlineCode",{parentName:"p"},"mapping")," is optional and can hold a list of some or all of the layer's properties (as defined in the layer class) and their values."),(0,r.kt)("p",null,"To learn how to write an external configuration file (JSON), please check out Section 2b in this ",(0,r.kt)("a",{parentName:"p",href:"/docs/tutorial/development/createing-a-model"},"tutorial"),"."),(0,r.kt)("h2",{id:"how-to-configure-a-layer-type-internally"},"How to configure a layer type internally"),(0,r.kt)("p",null,"If the model is configured from within the ",(0,r.kt)("inlineCode",{parentName:"p"},"Program.cs")," file, then layer configuration can be done as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'LayerMappings =\n{\n    new LayerMapping\n    {\n    Name = nameof(LayerName),\n        File = "path/to/the/layer",\n        IndividualMapping =\n    {\n      new IndividualMapping {Name = "PropertyName", Value = 0.779}\n    }\n    }\n}\n')),(0,r.kt)("p",null,"A JSON object LayerMappings is used to populate the layers (that were previously defined in the ModelDescription) with external data (for example, geodata stored in a file). Within the LayerMappings object, each layer defined in the ModelDescription requires one LayerMapping object, consisting of Name (name of the layer in the simulation) and File (path to the file that is to be used to fill the layer). Optionally, an IndividualMapping key can be used to set property values for the layer."),(0,r.kt)("p",null,"To learn how to write an internal model configuration, please check out Section 2a in this ",(0,r.kt)("a",{parentName:"p",href:"/docs/tutorial/development/createing-a-model"},"tutorial"),"."))}s.isMDXComponent=!0}}]);