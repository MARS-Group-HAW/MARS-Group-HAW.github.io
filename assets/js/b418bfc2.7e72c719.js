"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8849],{75889:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"tutorial/development/known-problems","title":"Known Problems and Solutions","description":"This article includes a list of common problems that might occur when working with the MARS runtime system and offers some solutions to them.","source":"@site/docs/tutorial/development/known-problems.md","sourceDirName":"tutorial/development","slug":"/tutorial/development/known-problems","permalink":"/docs/tutorial/development/known-problems","draft":false,"unlisted":false,"editUrl":"https://github.com/MARS-Group-HAW/MARS-Group-HAW.github.io/edit/main/docs/tutorial/development/known-problems.md","tags":[],"version":"current","sidebarPosition":90,"frontMatter":{"sidebar_position":90},"sidebar":"tutorialSidebar","previous":{"title":"Collision Environment","permalink":"/docs/tutorial/development/environments/collisionenv"},"next":{"title":"Kubernetes","permalink":"/docs/tutorial/development/deploy_in_cloud"}}');var i=n(74848),r=n(28453);const s={sidebar_position:90},a="Known Problems and Solutions",l={},c=[{value:"CSV",id:"csv",level:3},{value:"Excel formatting",id:"excel-formatting",level:3},{value:"File paths defined in the model",id:"file-paths-defined-in-the-model",level:3},{value:"Source coordinate standard for GIS data",id:"source-coordinate-standard-for-gis-data",level:3},{value:"JetBrains Rider (NuGet package importer)",id:"jetbrains-rider-nuget-package-importer",level:3}];function d(e){const t={code:"code",h1:"h1",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"known-problems-and-solutions",children:"Known Problems and Solutions"})}),"\n",(0,i.jsx)(t.p,{children:"This article includes a list of common problems that might occur when working with the MARS runtime system and offers some solutions to them."}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"csv",children:"CSV"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Problem:"})," depending on operating system settings and application settings, the CSV separator might not be identified correctly by the MARS runtime system. As a result, columns might not get separated correctly, and the data in the file is not parsed correctly."]}),"\n",(0,i.jsx)(t.p,{children:'** Solution:** in your model\'s Program.cs file, define a culture setting that specifies how CSV files are read by the system when a simulation is run. If no culture or format setting is set, the default setting "en-EN" is used.'}),"\n",(0,i.jsxs)(t.p,{children:["When working with an internal configuration file (directly in the Program.cs file), the culture setting can be specified in the ",(0,i.jsx)(t.code,{children:"CsvOptions"})," object within the ",(0,i.jsx)(t.code,{children:"Globals"})," object as follows:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'Globals =\n{\n   // other global settings here\n    OutputTarget = OutputTargetType.Csv,\n    CsvOptions =\n    {\n        CultureInfo = CultureInfo.CurrentCulture,\n        Delimiter = ",",\n        IncludeHeader = true\n    }\n'})}),"\n",(0,i.jsxs)(t.p,{children:["When working with an external configuration file (JSON), the culture setting can be specified in the ",(0,i.jsx)(t.code,{children:"Options"})," object (which can be defined in the ",(0,i.jsx)(t.code,{children:"Globals"})," object) as follows:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n    "globals": {\n        // other global settings here\n       "output": "csv",\n       "options": {\n          "delimiter": ",",\n          "culture": "de-DE"\n       }\n    }\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["Alternatively, the following line of code can be written in the Program.cs file at the beginning of the ",(0,i.jsx)(t.code,{children:"Main"})," method."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'Thread.CurrentThread.CurrentCulture = new CultureInfo("EN-US");\n'})}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"excel-formatting",children:"Excel formatting"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Problem:"})," when opening CSV files with Excel, the application adds its own formatting rules to specific cells depending on their contents. For example, longitudes and latitudes (which are typically long floating-point numbers) might be interpreted as whole numbers. If the CSV files are closed, the settings added by Excel are maintained, and the data are permanently altered. As a result, geoinformation that is loaded into a simulation is inaccurate, making it impossible to run the simulation."]}),"\n",(0,i.jsx)(t.p,{children:"** Solution:** if this issue occurs, the easiest Solution is to avoid handling CSV files with Excel (more straightforward text editors like Notepad++ or Sublime Text can be used instead)."}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"file-paths-defined-in-the-model",children:"File paths defined in the model"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Problem:"})," you are unsure where to place input files or where output files of a simulation are put by the runtime system."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Solution:"}),' output files are stored in the root directory of the simulation: <root-directory-of-your-model>\\bin\\Debug\\netcoreapp3.1. (Alternatively to "Debug", a "Release" directory might be created by the system).']}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note:"})," when working with a SmartOpenHamburg model, the following class can be used to examine and specify paths to certain directories that fulfil specific functions within the model."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"namespace SOHResources {\n   public static class ResourcesConstants {\n        // ...\n    }\n}\n"})}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"source-coordinate-standard-for-gis-data",children:"Source coordinate standard for GIS data"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Problem:"})," the source coordinate system of geoinformation that was obtained from an external source (for example, QGIS or OSM) is not configured correctly for the MARS runtime system."]}),"\n",(0,i.jsx)(t.p,{children:'** Solution:** the correct source coordinate system is Vorgabe-KBS: EPSG:4326 - WGS 84. In QGIS, right-click a layer and select Properties to open the Layer Properties window. In the left menu bar, select "Source" (German: "Quelle"). From the drop-down menu, select the correct source coordinate system.'}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"jetbrains-rider-nuget-package-importer",children:"JetBrains Rider (NuGet package importer)"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Problem:"})," the ",(0,i.jsx)(t.code,{children:"Mars.Life.Simulations"})," package is not being recognized by Rider (when typing ",(0,i.jsx)(t.code,{children:"import Mars."})," at the top of the file) even though the package was imported without errors by the NuGet package manager."]}),"\n",(0,i.jsxs)(t.p,{children:["** Solution:** open a terminal in Rider and run the command ",(0,i.jsx)(t.code,{children:"dotnet restore --force"}),". Once the order has executed, close and restart Rider and try to import the MARS package again. If this does not work, please check which version of Rider is installed on your system. Versions above 2019.3.4 are known to have this issue."]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var o=n(96540);const i={},r=o.createContext(i);function s(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);