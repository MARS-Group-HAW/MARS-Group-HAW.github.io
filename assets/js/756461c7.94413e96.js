"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9805],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=s(n),g=i,d=c["".concat(p,".").concat(g)]||c[g]||f[g]||o;return n?a.createElement(d,r(r({ref:t},u),{},{components:n})):a.createElement(d,r({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=g;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:i,r[1]=l;for(var s=2;s<o;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},34587:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var a=n(87462),i=(n(67294),n(3905));const o={sidebar_position:10,description:"Explains how to configure agent types."},r="Agent Configuration",l={unversionedId:"tutorial/configuration/agent_config",id:"tutorial/configuration/agent_config",title:"Agent Configuration",description:"Explains how to configure agent types.",source:"@site/docs/tutorial/configuration/agent_config.md",sourceDirName:"tutorial/configuration",slug:"/tutorial/configuration/agent_config",permalink:"/docs/tutorial/configuration/agent_config",draft:!1,editUrl:"https://github.com/MARS-Group-HAW/MARS-Group-HAW.github.io/edit/main/docs/tutorial/configuration/agent_config.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,description:"Explains how to configure agent types."},sidebar:"tutorialSidebar",previous:{title:"Execution Configuration",permalink:"/docs/tutorial/configuration/execution"},next:{title:"Layer Configuration",permalink:"/docs/tutorial/configuration/layer_config"}},p={},s=[{value:"How to configure an agent type externally",id:"how-to-configure-an-agent-type-externally",level:2},{value:"How to configure an agent type internally",id:"how-to-configure-an-agent-type-internally",level:2},{value:"How to set an IndividualMapping",id:"how-to-set-an-individualmapping",level:2}],u={toc:s};function c(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"agent-configuration"},"Agent Configuration"),(0,i.kt)("p",null,"The configuration information of a MARS C# model defined the parameters and external data that are to be used during a simulation run. A model can be configured in two ways: either via an external JSON file or from within the program code."),(0,i.kt)("h2",{id:"how-to-configure-an-agent-type-externally"},"How to configure an agent type externally"),(0,i.kt)("p",null,"Suppose the model is configured using ",(0,i.kt)("strong",{parentName:"p"},"an external JSON configuration file"),". In that case, layers can be configured, as shown in the following example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "agents": [\n    {\n        "name": "AgentName",\n        "count": 10,\n        "file": "path/to/agent/init/file.csv",\n        "mapping": [\n          { "parameter": "ParameterName", "value": true }\n        ]\n      }\n    ]\n}\n')),(0,i.kt)("p",null,"The object ",(0,i.kt)("inlineCode",{parentName:"p"},"agents")," contains a list of all the agent types defined in the model. ",(0,i.kt)("strong",{parentName:"p"},"Note:")," all agent types defined in the model must be referenced in the configuration. The key ",(0,i.kt)("inlineCode",{parentName:"p"},"file"),"  points to a CSV file that can be used to set property values at the start of the simulation. This method can set each instantiated agent's property values individually. ",(0,i.kt)("inlineCode",{parentName:"p"},"options")," contains specifications on how the CSV file is meant to be read and parsed. The key ",(0,i.kt)("inlineCode",{parentName:"p"},"mapping")," is also optional and offers a second way to set property values at the start of the simulation. This method of assessing property values affects all instantiated agents of the agent type."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"If a value for the same property exists in both the agent initialization file ",(0,i.kt)("em",{parentName:"p"},"and")," in a mapping of the simulation configuration, the amount of the configuration is preferred.")),(0,i.kt)("p",null,'To learn how to create an agent initialization file, please check out the section "How to assign agent attribute values with data from a CSV file" in this ',(0,i.kt)("a",{parentName:"p",href:"/docs/tutorial/data-sources/csv"},"article"),"."),(0,i.kt)("h2",{id:"how-to-configure-an-agent-type-internally"},"How to configure an agent type internally"),(0,i.kt)("p",null,"If the model is configured from within the ",(0,i.kt)("inlineCode",{parentName:"p"},"Program.cs")," File, then agent configuration can be done as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'AgentMappings =\n{\n   new AgentMapping\n    {\n       Name = nameof(AgentName),\n        InstanceCount = 10,\n        File = "path/to/the/agent/init/file.csv",\n        Options = {{"csvSeparator", \';\'}},\n        OutputFilter =\n        {\n           // see below for an example\n        }\n        IndividualMapping =\n        {\n           // see below for an example\n        }\n    } \n}\n')),(0,i.kt)("p",null,"The object AgentMappings is used to configure all agent type (that were previously defined in the ",(0,i.kt)("inlineCode",{parentName:"p"},"ModelDescription"),"). Within the ",(0,i.kt)("inlineCode",{parentName:"p"},"AgentMappings")," object, each agent type defined in the requires one AgentMapping object, consisting of a name (name of the agent in the simulation), InstanceCount (number of agents of this agent type), File (initialization data to be used for this agent type), and options (CSV options). Other optional keys include OutputFilter and IndividualMapping. For more information on simulation configuration options, please check out this ",(0,i.kt)("a",{parentName:"p",href:"/docs/tutorial/configuration/sim_config_options"},"article"),"."),(0,i.kt)("h2",{id:"how-to-set-an-individualmapping"},"How to set an IndividualMapping"),(0,i.kt)("p",null,"An individual parameter mapping can be provided to assigned or set the relationships of input parameters in the model to concrete values or referencing a field of your input file.\nThe individual mapping is specified for each type individually and associated the model properties with their ",(0,i.kt)("inlineCode",{parentName:"p"},"parameterName")," to an input ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," or referencing field ",(0,i.kt)("inlineCode",{parentName:"p"},"field")," which is part of your file input."),(0,i.kt)("p",null,"In the configuration this looks like the following:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "Sheep",\n  "output": "none",\n  "individual": [\n    {"parameter": "Health", "value": 80},\n    {"parameter": "Respiration", "value": 0.002},\n    {"parameter": "EnergeyWin", "field": "respirationField"}\n  ]\n}\n')),(0,i.kt)("p",null,"With the third mapping, the MARS runtime system knows to retrieve the value from the input ",(0,i.kt)("inlineCode",{parentName:"p"},"sheeps.csv")," file."),(0,i.kt)("p",null,"IndividualMapping within an agent can be used to set attribute values for the agent type."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "individual": [\n    {"parameter": "Health", "value": 80},\n    {"parameter": "Respiration", "value": 0.002}\n  ]\n}\n')))}c.isMDXComponent=!0}}]);