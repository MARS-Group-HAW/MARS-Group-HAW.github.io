"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5336],{82178:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"tutorial/development/model","title":"ModelDescription","description":"Model Definition","source":"@site/docs/tutorial/development/model.md","sourceDirName":"tutorial/development","slug":"/tutorial/development/model","permalink":"/docs/tutorial/development/model","draft":false,"unlisted":false,"editUrl":"https://github.com/MARS-Group-HAW/MARS-Group-HAW.github.io/edit/main/docs/tutorial/development/model.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Creating a model","permalink":"/docs/tutorial/development/createing-a-model"},"next":{"title":"Agent","permalink":"/docs/tutorial/development/agent"}}');var r=t(74848),o=t(28453);const s={sidebar_position:5},d="ModelDescription",a={},l=[{value:"Model Definition",id:"model-definition",level:2},{value:"Registration",id:"registration",level:3},{value:"Registration with Names",id:"registration-with-names",level:2}];function c(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"modeldescription",children:(0,r.jsx)(n.code,{children:"ModelDescription"})})}),"\n",(0,r.jsx)(n.h2,{id:"model-definition",children:"Model Definition"}),"\n",(0,r.jsx)(n.p,{children:"In order to use a model, entities, agents and layer types must be made known to the system."}),"\n",(0,r.jsxs)(n.p,{children:["A so-called ",(0,r.jsx)(n.code,{children:"ModelDescription"})," is defined in the project (for example in the entry point ",(0,r.jsx)(n.code,{children:"Main()"}),") and all relevant types are registered."]}),"\n",(0,r.jsx)(n.h3,{id:"registration",children:"Registration"}),"\n",(0,r.jsxs)(n.p,{children:["First, the ",(0,r.jsx)(n.code,{children:"using"})," import of the namespace must be added:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c#",children:"using Mars.Core.Model.Entities;\n"})}),"\n",(0,r.jsxs)(n.p,{children:["In the program code (for example the entry point ",(0,r.jsx)(n.code,{children:"Main()"})," of the .NetCore application) a ",(0,r.jsx)(n.code,{children:"ModelDescription"})," object must be defined. This object contains all types that occur in the model and that can be parameterized externally by a ",(0,r.jsx)(n.code,{children:"SimulationConfig"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c#",children:"\npublic static void Main() \n{\n    var description = new ModelDescription();\n    \n    description.AddLayer<MyLayer>();\n    description.AddAgent<MyAgent,MyLayer>();\n \n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The types registered above include the self-defined agent type ",(0,r.jsx)(n.code,{children:"MyAgent"})," and the corresponding agent layer ",(0,r.jsx)(n.code,{children:"MyLayer"}),". If you want to use additional data in the model, you have to register the respective data layers additionally:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c#",children:"description.AddLayer<MyVectorLayer>();\ndescription.AddLayer<MyRasterLayer>();\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ue10f ",(0,r.jsx)(n.code,{children:"MyLayer"})," can also be used as a data layer like ",(0,r.jsx)(n.code,{children:"MyVectorLayer"})," or ",(0,r.jsx)(n.code,{children:"MyRasterLayer"}),". The layer implements the required contract (see [here] (layers.md))."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"registration-with-names",children:"Registration with Names"}),"\n",(0,r.jsxs)(n.p,{children:["By default, the defined class name (e.g. ",(0,r.jsx)(n.code,{children:"MyAgent"}),") is used as the name within the model. Alternative names can be given during registration:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c#",children:'description.AddAgent<MyAgent,MyLayer>("myAlternativeAgentName");\n'})}),"\n",(0,r.jsx)(n.p,{children:"This allows the types to be mapped using a different name within the configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "agents": [\n    {"name": "myAlternativeAgentName", "file": "anyInput.csv"}\n  ]\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>d});var i=t(96540);const r={},o=i.createContext(r);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);