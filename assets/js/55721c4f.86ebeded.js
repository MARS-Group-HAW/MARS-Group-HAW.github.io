"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6649],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>y});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=i,y=d["".concat(s,".").concat(m)]||d[m]||u[m]||r;return n?a.createElement(y,o(o({ref:t},c),{},{components:n})):a.createElement(y,o({ref:t},c))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},91935:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=n(87462),i=(n(67294),n(3905));const r={sidebar_position:20},o="Entity",l={unversionedId:"tutorial/development/entity",id:"tutorial/development/entity",title:"Entity",description:"Definition of Entities",source:"@site/docs/tutorial/development/entity.md",sourceDirName:"tutorial/development",slug:"/tutorial/development/entity",permalink:"/docs/tutorial/development/entity",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial/development/entity.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20},sidebar:"tutorialSidebar",previous:{title:"Agent",permalink:"/docs/tutorial/development/agent"},next:{title:"Layers",permalink:"/docs/tutorial/development/layers"}},s={},p=[{value:"Definition of Entities",id:"definition-of-entities",level:2},{value:"Registering the type",id:"registering-the-type",level:3},{value:"Create instance from input",id:"create-instance-from-input",level:3}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"entity"},"Entity"),(0,i.kt)("h2",{id:"definition-of-entities"},"Definition of Entities"),(0,i.kt)("p",null,"In contrast to agents, entities are pure objects without a ",(0,i.kt)("inlineCode",{parentName:"p"},"Tick()")," method. However, entities are also identified by a UUID (Guid) ",(0,i.kt)("inlineCode",{parentName:"p"},"ID")," and can be included in the model to enter other data that is not directly part of the agent parameterization. Entity are versioned and snapshots are persisted just the same as with agents."),(0,i.kt)("p",null,"In your model code, add a ",(0,i.kt)("inlineCode",{parentName:"p"},"using Mars.Interfaces.Agents")," to make the namespace directly available."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"using Mars.Interfaces.Agents\n")),(0,i.kt)("p",null,"Create a class (called e.g., ",(0,i.kt)("inlineCode",{parentName:"p"},"MyEntityType"),") and implement the ",(0,i.kt)("inlineCode",{parentName:"p"},"IEntity")," interface"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"public class MyEntityType : IEntity \n{\n    public Guid ID { get; set; }\n}\n")),(0,i.kt)("p",null,"Alternatively you can infer directly from ",(0,i.kt)("inlineCode",{parentName:"p"},"AbstractEntity"),", available in ",(0,i.kt)("inlineCode",{parentName:"p"},"Mars.Components.Agents"),"."),(0,i.kt)("h3",{id:"registering-the-type"},"Registering the type"),(0,i.kt)("p",null,"Entities must be made known in the model, so that they can be initialized by a given simulation configuration. In the entry point ",(0,i.kt)("inlineCode",{parentName:"p"},"Main()"),", the newly defined entity type must be registered within the ",(0,i.kt)("inlineCode",{parentName:"p"},"ModelDescription"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"// Define the description is not already happened\n// var description = new ModelDescription();\ndescription.AddEntity<MyEntityType>()\n")),(0,i.kt)("h3",{id:"create-instance-from-input"},"Create instance from input"),(0,i.kt)("p",null,"Entities can be loaded into the model by using the ",(0,i.kt)("inlineCode",{parentName:"p"},"IEntityManager")," component to create instances by a given key attribute name and the corresponding value. "),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"IEntityManager")," component can be resolved using the global simulation container ",(0,i.kt)("inlineCode",{parentName:"p"},"ISimulationContainer"),". When the ",(0,i.kt)("inlineCode",{parentName:"p"},"AbstractLayer")," implementation is used (as described in ",(0,i.kt)("a",{parentName:"p",href:"/docs/tutorial/development/layers"},"layer definition"),") the ",(0,i.kt)("inlineCode",{parentName:"p"},"IEntityManager")," is already accessible. Otherwise the components needs to be resolved as follows:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"var manager = container.Resolve<IEntityManager>();\n")),(0,i.kt)("p",null,"An agent can create concrete entities directly and bind them to itself:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'var entity = manager.Create<MyAgentType>("keyField", "keyValue");\n')))}d.isMDXComponent=!0}}]);