<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorial/data-sources/geo-data-acquisition">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Generation and use of geo-information data | MARS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.mars-group.org/docs/tutorial/data-sources/geo-data-acquisition"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Generation and use of geo-information data | MARS"><meta data-rh="true" name="description" content="1. Find geographic data in a reasonable dimension"><meta data-rh="true" property="og:description" content="1. Find geographic data in a reasonable dimension"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.mars-group.org/docs/tutorial/data-sources/geo-data-acquisition"><link data-rh="true" rel="alternate" href="https://www.mars-group.org/docs/tutorial/data-sources/geo-data-acquisition" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.mars-group.org/docs/tutorial/data-sources/geo-data-acquisition" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="MARS RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="MARS Atom Feed">




<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.26d94df4.css">
<link rel="preload" href="/assets/js/runtime~main.b8a63d78.js" as="script">
<link rel="preload" href="/assets/js/main.fbef4b43.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/MARS GROUP Icon.png" alt="MARS GROUP Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/MARS GROUP Icon.png" alt="MARS GROUP Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">MARS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/tutorial/intro">Docs</a><a class="navbar__item navbar__link" href="/docs/api/">API</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/student">Offers for theses</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/projects">Projects</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/projects/esida">ESIDA</a></li><li><a class="dropdown__link" href="/projects/smartopenhamburg">SOHH</a></li><li><a class="dropdown__link" href="/projects/emsafrica">EMSAfrica</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Student Work</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/student-work/theses">Theses</a></li><li><a class="dropdown__link" href="/student-work/posters">Posters</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/MARS-Group-HAW/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/mars---basics">MARS - Basics</a><button aria-label="Toggle the collapsible sidebar category &#x27;MARS - Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/development">Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/configuration">Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/tutorial/data-sources/">Data sources</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data sources&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/data-sources/csv">Comma-Separated Values (CSV)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/data-sources/ascii-grid">ASC files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/data-sources/time-series">Time-series data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/data-sources/create_vector_layer_raster_layer">How to prepare a vector/raster layer file</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorial/data-sources/geo-data-acquisition">Generation and use of geo-information data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/data-sources/geospatial_data_sources">Geospatial Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/data-sources/geospatial_data_types">geospatial_data_types</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/analysis--visualization">Analysis &amp; Visualization</a><button aria-label="Toggle the collapsible sidebar category &#x27;Analysis &amp; Visualization&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/snippets">Snippets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snippets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorial/soh/">SmartOpenHamburg</a><button aria-label="Toggle the collapsible sidebar category &#x27;SmartOpenHamburg&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/mars-explorer">MARS Explorer</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/tutorial/data-sources/"><span itemprop="name">Data sources</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Generation and use of geo-information data</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Generation and use of geo-information data</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-find-geographic-data-in-a-reasonable-dimension">1. Find geographic data in a reasonable dimension<a href="#1-find-geographic-data-in-a-reasonable-dimension" class="hash-link" aria-label="Direct link to 1. Find geographic data in a reasonable dimension" title="Direct link to 1. Find geographic data in a reasonable dimension">​</a></h2><p>For a simulation it is necessary to decide on a geographic space. This should not be too large and not too small. Therefore define a bounding box that limits the expansion. </p><p>For the usage with the tool QGIS see <a href="/docs/tutorial/data-sources/create_vector_layer_raster_layer">How to prepare a vector/raster layer file</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-using-osmnx-to-generate-layer-data">2. Using OSMnx to generate layer data<a href="#2-using-osmnx-to-generate-layer-data" class="hash-link" aria-label="Direct link to 2. Using OSMnx to generate layer data" title="Direct link to 2. Using OSMnx to generate layer data">​</a></h2><p><a href="https://www.openstreetmap.org/" target="_blank" rel="noopener noreferrer">OpenStreetMap (OSM)</a> provides a <a href="https://www.python.org/" target="_blank" rel="noopener noreferrer">Python</a> library and associated API to store specific geographic areas in a suitable format. This library is called OSMnx. Generally it provides various geographic data, in fact it is mostly used for graph data. </p><ol><li>Installing the <a href="https://osmnx.readthedocs.io/en/stable" target="_blank" rel="noopener noreferrer">OSMnx package</a></li><li><a href="https://github.com/gboeing/osmnx-examples" target="_blank" rel="noopener noreferrer">Examples of usage</a></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>On Windows additional packages are required for proper working: the GDAL package for your respective python version. Using an example with the Galapagos Island and the use of OSMnx.</p></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> osmnx </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> ox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">save_place</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">place_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Retrieve the vector boundary of the area we need</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    place </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">geocode_to_gdf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">place_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    place</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;galapagos.geojson&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> driver</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;GeoJSON&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    place_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Galapagos Islands&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Its also possible to become more than one boundary in the same vectorfile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># place_name = [&#x27;Isla Isabela, Ecuador&#x27;, &#x27;Isla Santiago, Ecuador&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    save_place</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">place_name</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-using-a-bounding-box-to-reduce-dimension-of-given-data-from-a-base-model">3. Using a bounding box to reduce dimension of given data from a base model<a href="#3-using-a-bounding-box-to-reduce-dimension-of-given-data-from-a-base-model" class="hash-link" aria-label="Direct link to 3. Using a bounding box to reduce dimension of given data from a base model" title="Direct link to 3. Using a bounding box to reduce dimension of given data from a base model">​</a></h2><p>If data is available in a suitable format, it is possible to crop it using <a href="https://qgis.org/de/site/" target="_blank" rel="noopener noreferrer">QGIS</a>. This way it is easy to save the desired area with a few provided tools.</p><p>The model environment is already available (e.g., in the form of a base model) and a subsection (corresponding to the bounding box) is to be extracted</p><ol><li>Import a given layer file (<em>base layer</em>) in QGIS (drag-and-drop). This is our <em>Input layer</em>.</li><li><a href="/docs/tutorial/data-sources/create_vector_layer_raster_layer">Create a mask (bounding box) in a temporal layer</a>  that limits the geographic extent. This is our <em>Overlay layer</em>.<ol><li>Layer <!-- -->→<!-- --> Create Layer <!-- -->→<!-- --> New Temporary Scratch Layer </li><li>Drop-down menu &quot;Geometry type&quot;: MultiPolygon (most often sufficient)</li><li>Ok</li><li>Edit <!-- -->→<!-- --> Add &quot;any polygon form that fits your requirements&quot;</li><li>Layer <!-- -->→<!-- --> Toggle Editing <!-- -->→<!-- --> Save</li></ol></li><li>Vector (possibily Vektor) <!-- -->→<!-- -->  geo processing tools <!-- -->→<!-- --> Intersection...</li><li>Drop-down menu &quot;Input layer&quot;: base layer</li><li>Drop-down menu &quot;Overlay layer&quot;: bounding box (or the other way around)</li><li>Click &quot;Start&quot;</li><li>A new layer (<em>intersect layer</em>) containing the intersected geodata appears in the Layer window (bottom left)</li><li>Export the intersect layer:<ol><li>Right-click the intersect layer</li><li>Select &quot;Export&quot; and &quot;Save as&quot;</li><li>Specify the file name and file format</li><li>Click &quot;OK&quot;</li></ol></li></ol><p>Base data with red bounding box (above) and the new data in dimension of mask as result (below).</p><p><img loading="lazy" alt="intersect_bounding_box_with_base_data_before" src="/assets/images/intersect_bounding_box_with_base_data_before-dcedd1fa5f538ce13cca2a0665b2204c.png" width="1443" height="430" class="img_ev3q">
<img loading="lazy" alt="intersect_bounding_box_with_base_data_result" src="/assets/images/intersect_bounding_box_with_base_data_result-86da66b67aa7b823d488d9ac7062a5f0.png" width="296" height="154" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-using-the-bounding-box-with-data-from-the-eo-browser-esa">4. Using the bounding box with data from the EO Browser (ESA)<a href="#4-using-the-bounding-box-with-data-from-the-eo-browser-esa" class="hash-link" aria-label="Direct link to 4. Using the bounding box with data from the EO Browser (ESA)" title="Direct link to 4. Using the bounding box with data from the EO Browser (ESA)">​</a></h2><p>If the necessary data are not available, it is possible to obtain them via a browser (satellite data freely available from ESA). How to crop the data is explained in this section.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>To download the files in a geo format, an account is required. Accounts are for free.</p></div></div><ol><li>Model environment is <strong>not</strong> available; data acquisition via external data sources</li><li><strong>EO Browser:</strong> freely available satellite images (globally) from the ESA (European Space Agency)</li><li>Visit <a href="https://apps.sentinel-hub.com/eo-browser/" target="_blank" rel="noopener noreferrer">https://apps.sentinel-hub.com/eo-browser</a> (a tutorial with first steps is available, if needed)</li><li>Upload your bounding box:<ol><li>Click the pentagon icon (top right) and drag-and-drop the file containing the bounding box into the EO Browser</li></ol></li><li>Specify the time range for the desired data and click &quot;Search&quot;</li><li>Select one of the available data set (The down-arrows provide additional information)</li><li>Select the desired geodata from within the data set</li><li>Select &quot;Download image&quot; (right)</li><li>Switch to the tab &quot;Analytical&quot;</li><li>Select the file format TIFF</li><li>Activate &quot;Clip extra bands&quot; (if not already activated)</li><li>Select &quot;Download&quot; </li></ol><p><img loading="lazy" alt="EO-Browser" src="/assets/images/eo-browser-aa5f44b617df0c25f724051d7b23522e.png" width="1436" height="584" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-generating-a-raster-layer-from-a-geotiff-file">5. Generating a raster layer from a GeoTIFF file<a href="#5-generating-a-raster-layer-from-a-geotiff-file" class="hash-link" aria-label="Direct link to 5. Generating a raster layer from a GeoTIFF file" title="Direct link to 5. Generating a raster layer from a GeoTIFF file">​</a></h2><p>The Mars Runtime System uses vector and raster layers. In order to make raster layers usable, it is necessary to bring them into a suitable format. GeoTiff files cannot be used directly. This section explains how to transform to ASC files that are readable for the runtime system.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-transform-the-geotiff-file-to-an-asc-file">1. Transform the GeoTiff file to an ASC file<a href="#1-transform-the-geotiff-file-to-an-asc-file" class="hash-link" aria-label="Direct link to 1. Transform the GeoTiff file to an ASC file" title="Direct link to 1. Transform the GeoTiff file to an ASC file">​</a></h3><ol><li>Import the desired <code>tiff</code> file into QGIS (drag-and-drop)</li><li>We require the layer in greyscale.
1.Raster <!-- -->→<!-- --> Raster Calculator
2. Enter the formula (R + G + B) / 3 into the raster calculator expression (R = chanel 1, G = chanel 2, B = chanel 3)
3. From &quot;raster chanels&quot;, select the three chanels R, G, and B. These appear in the raster calculator expression. Enclose them with round parentheses and divide the expression by 3.
<img loading="lazy" alt="QGIS_geo_tiff_grayscale" src="/assets/images/geo_tiff_grayscale-846a1c9bb04e61f14af19ae1e6223fd8.png" width="1384" height="745" class="img_ev3q">
4. In &quot;Result layer&quot; <!-- -->→<!-- --> &quot;Output layer&quot; specify the file name and file format (GeoTIFF)
5. Select OK</li><li>Save the newly generated layer (let&#x27;s call it <em>GrayscaleGEOTIFF</em>) as an asc file<ol><li>Raster <!-- -->→<!-- --> Conversion <!-- -->→<!-- --> Translate (Convert Format)/ Convert (format conversion)...</li><li>Input layer: GrayscaleGEOTIFF</li><li>In the field &quot;Converted&quot;, click &quot;…&quot; and &quot;Save to File…&quot;</li><li>Specify the file name and file format (ASC)
<img loading="lazy" alt="QGIS_geo_tiff_grayscale" src="/assets/images/geo_tiff_grayscale_to_asc-f069d830560e3a20136842dc48b4b889.png" width="835" height="1003" class="img_ev3q"></li><li>Click &quot;Save&quot;</li><li>Click &quot;Run&quot;</li></ol></li><li>The geodata are exported from QGIS and saved as an asc file</li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>An <code>asc</code> file contains only one band. This example assumes a <code>tiff</code> file with three bands (red, green, and blue). Generally, it is important to specify which band should be exported. For a <code>geotiff</code> file with only one band, no additional steps are necessary.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-manipulation-of-geotiff-file">2. Manipulation of GeoTIFF file<a href="#2-manipulation-of-geotiff-file" class="hash-link" aria-label="Direct link to 2. Manipulation of GeoTIFF file" title="Direct link to 2. Manipulation of GeoTIFF file">​</a></h3><p>GeoTiff are widespread. The bands may represent different data. Sometimes it is useful to mark specific areas as invalid. In the upcoming example, we want to remove values for water.</p><ol><li>Recognize that water has the same value in all 3 different bands.
<img loading="lazy" alt="geotiff_water_bands" src="/assets/images/geotiff_water_bands-f7ef090cf4321d002065fe9dd25e04b7.png" width="680" height="441" class="img_ev3q"></li><li>Open Raster <!-- -->→<!-- --> Raster Calculator...</li><li>Insert an expression that specifies only valid band data. In our case, we only want to have data, where all bands have different data (water has here the same data in all three bands / compare screenshot).
For example: <code>&quot;geo@1&quot; != &quot;geo@2&quot; AND &quot;geo@1&quot; != &quot;geo@3&quot; AND &quot;geo@2&quot; != &quot;geo@3&quot;</code></li><li>Set Output layer path for layer creation. Ok.
<img loading="lazy" alt="geotiff_raster_calculator_land" src="/assets/images/geotiff_raster_calculator_land-90ba02f9a8c429fc9fa0ea971e834807.png" width="868" height="784" class="img_ev3q"></li><li>Open Raster <!-- -->→<!-- --> Raster Calculator...</li><li>Make a new expression that combines your data with the created mask (in our example, the land geo tiff that is multiplied with the green band/geo@“).
<code>&quot;geo@2&quot; * &quot;land@1&quot;</code>
Set the Output layer. Ok.
<img loading="lazy" alt="geotiff_greenland_masked" src="/assets/images/geotiff_green_land_masked-7719da37f45a89d96812130ce9d96283.png" width="667" height="440" class="img_ev3q"></li></ol><p>Now the water areas all have the Band value <code>0</code>. If you even need it to be invalid, another transformation is necessary.</p><ol><li>Open Raster <!-- -->→<!-- --> Raster Calculator...</li><li>Make a new expression that devides the value and multiplies it afterwards. All values that are <code>0</code> are now transformed to <code>no data</code>.
<code>&quot;green_land@1&quot;/&quot;green_land@1&quot; *&quot;green_land@1&quot;</code>
Set the Output layer. Ok.
<img loading="lazy" alt="geotiff_greenland_masked" src="/assets/images/geotiff_green_land_masked_no_data-9b1bbf2e39e8ef92067f9adac0cc9b2a.png" width="726" height="443" class="img_ev3q"></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-public-data-sources">6. Public data sources<a href="#6-public-data-sources" class="hash-link" aria-label="Direct link to 6. Public data sources" title="Direct link to 6. Public data sources">​</a></h2><p>There are many freely available data sources.  When researching on the internet, one comes across many portals and sites that offer geoinformation data, some of them are listed in the following.</p><p>Geographically limited</p><ul><li><a href="https://geoportal.de" target="_blank" rel="noopener noreferrer">Geoportal</a> geodata provided by federal, state and local authorities.</li><li><a href="https://geoportal-hamburg.de" target="_blank" rel="noopener noreferrer">Geoportal Hamburg</a> geodata provided by federal, state and local authorities. Limited to Hamburg.</li><li><a href="https://www.africageoportal.com/" target="_blank" rel="noopener noreferrer">The Afica GeoPortal</a> provides a variety of data from covid to desert locust.</li></ul><p>Global</p><ul><li><a href="https://openstreetmap.org" target="_blank" rel="noopener noreferrer">OpenSteetMap</a> holds a map of the world with street networks and additional data.</li><li><a href="https://scihub.copernicus.eu/dhus/#/home" target="_blank" rel="noopener noreferrer">ESA Copernicus Open Access Hub</a> the Open Access Hub provides complete, free and open access to Sentinel-1, Sentinel-2, Sentinel-3 and Sentinel-5P user products.</li><li><a href="https://apps.sentinel-hub.com/eo-browser/" target="_blank" rel="noopener noreferrer">EO Browser</a> provides satellite data.</li><li><a href="http://www.naturalearthdata.com/downloads/" target="_blank" rel="noopener noreferrer">Natural Earth</a> provides cultural, physical and raster categories.</li><li><a href="https://terra.ipums.org/" target="_blank" rel="noopener noreferrer">IPUMS TERRA</a> integrates population and environmental data across disciplinary scientific domains.</li><li><a href="https://neo.sci.gsfc.nasa.gov/" target="_blank" rel="noopener noreferrer">NASA Earth Observation</a> provides satellite data (ocean, atmosphere, and land surfaces).</li><li><a href="https://sedac.ciesin.columbia.edu/" target="_blank" rel="noopener noreferrer">Socioeconomic data and applications center SEDAC</a> provides socioeconomic data sets.</li><li><a href="https://opentopography.org/" target="_blank" rel="noopener noreferrer">Open Topography</a> provides high-resolution topography data and tools.</li><li><a href="http://www.fao.org/geonetwork/srv/en/main.home" target="_blank" rel="noopener noreferrer">FAO GeoNetwork</a> provides interactive maps, satellite imagery and related spatial databases.</li><li><a href="https://meteostat.net/de" target="_blank" rel="noopener noreferrer">meteostat</a> offers world wide weather and climate data.</li><li><a href="https://www.worldclim.org/" target="_blank" rel="noopener noreferrer">WorldClim</a> offers maps, graphs, tables, and data of the global climate.</li><li><a href="http://geodata.grid.unep.ch/" target="_blank" rel="noopener noreferrer">United Nations Environmental Data Explorer</a> covers themes like Freshwater, Population, Forests, Emissions, Climate, Disasters, Health and GDP.</li><li><a href="https://hub.arcgis.com/search" target="_blank" rel="noopener noreferrer">ArcGIS Hub</a> provides a broad collection of diverse data.</li><li><a href="https://www.esri.de/de-de/home" target="_blank" rel="noopener noreferrer">ESRI</a> provides a broad collection of diverse data.</li></ul><p>However, the data offered is available in very similar formats. The format <code>geotiff</code>, <code>geojson</code>, or <code>shapefile</code> can be interpreted by QGIS and must potentially be edited.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-openstreetmap-as-data-source">7. OpenStreetMap as data source<a href="#7-openstreetmap-as-data-source" class="hash-link" aria-label="Direct link to 7. OpenStreetMap as data source" title="Direct link to 7. OpenStreetMap as data source">​</a></h2><p><a href="https://www.openstreetmap.org/" target="_blank" rel="noopener noreferrer">OpenStreetMap (OSM)</a> is a free and rich data source for a wide variety of data. There are road networks, buildings, rivers and much more. Much of this data can be accessed via the website. It may be worthwhile to have a look here to see if there is something suitable (for your own question).</p><ol><li>Download a desired area via a QGIS plugin:<ol><li>Follow these steps for installation and usage: <a href="http://www.qgistutorials.com/de/docs/downloading_osm_data.html" target="_blank" rel="noopener noreferrer">http://www.qgistutorials.com/de/docs/downloading_osm_data.html</a></li></ol></li><li>Download the desired area via an internet browser:<ol><li>Visit <a href="https://www.openstreetmap.org/" target="_blank" rel="noopener noreferrer">OpenStreetMap</a></li><li>Click &quot;Export&quot; (located in the top bar)</li><li>Specify the desired area (this can also be done by selecting &quot;Select another area manually&quot;)</li><li>Click &quot;Export&quot;</li><li>An <code>osm</code> file is downloaded which can be imported into and visualized in QGIS (drag-and-drop)</li></ol></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If the area is too large, the import into QGIS might fail.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-time-series-layer">8. Time series layer<a href="#8-time-series-layer" class="hash-link" aria-label="Direct link to 8. Time series layer" title="Direct link to 8. Time series layer">​</a></h2><p>Time series layers are used to represent data that should change during the course of a simulation. In order to realise this, the desired data are provided with a time stamp to tell the system at which point in time which file has to be taken.</p><p>Time series layers are used by the MARS Runtime System to include time-dependent data in simulation runs. These data must be in the form of a raster layer (<code>asc</code> file). Additionally, a metadata.csv file must be present. This <code>csv</code> file specifies the point in time at which a particular file should be used as a layer in the simulation. The <code>csv</code> file is structured as follows:</p><table><thead><tr><th>Date</th><th>File</th></tr></thead><tbody><tr><td>2010-01-01T00:00:00</td><td>wc2.1_2.5m_tmin_2010-01.asc</td></tr><tr><td>2010-02-01T00:00:00</td><td>wc2.1_2.5m_tmin_2010-02.asc</td></tr><tr><td>2010-03-01T00:00:00</td><td>wc2.1_2.5m_tmin_2010-03.asc</td></tr></tbody></table><p>The ASC file may look like the example below.</p><ul><li><code>ncols</code> describes the number of columns for that data is stored</li><li><code>nrows</code> describes the amount of rows respectively</li><li><code>xllcorner</code> is the left lower longitudinal corner of the whole raster</li><li><code>yllcorner</code> is the left lower latitudinal corner of the whole raster</li><li><code>cellsize</code> defines dimension of a grid cell in minutes</li><li><code>nodata_value</code> is the default value that symbolizes that for that cell no data is available</li></ul><div class="language-asc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-asc codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ncols 4  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nrows 8  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xllcorner 30.5  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yllcorner -26  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cellsize 0.5  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nodata_value -9999  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17.807290649414 20.5651184082032 24.8631225585938 26.8945098876953</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">18.5511718750001 23.3313079833985 26.29580078125 27.8574005126953</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20.4051147460938 25.4935241699219 27.5471893310547 28.5036560058594</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">27.4903656005859 28.1041198730469 28.9388061523438 29.2906738281251</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">28.8996826171876 29.4988952636719 30.3407836914063 31.0566650390625</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">30.1418853759766 30.5633178710938 31.2210021972657 31.8191162109376</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">30.4041229248047 31.273828125 31.6893402099609 31.8025604248047</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31.709634399414 31.8638244628907 31.8258911132813 32.0521179199219</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>asc</code> files and the metadata.csv must be stored in the same directory (may also be zipped).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-data-usage-in-mars">9. Data usage in MARS<a href="#9-data-usage-in-mars" class="hash-link" aria-label="Direct link to 9. Data usage in MARS" title="Direct link to 9. Data usage in MARS">​</a></h2><p>Data is made usable in the MARS system via layers. These layers contain a wide variety of data with which an agent can interact.</p><p>How to use a layer file during a MARS model simulation can be found <a href="/docs/tutorial/configuration/layer_config">here</a>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Data from external sources should always be validated regarding completeness, integrity, and plausibility.</p></div></div><h1>10 Data acquisition using the example of HVV</h1><p>The utilisation of data obtained from external sources is an important step in the use of geoinformation data. This article uses the example of the HVV to show how to make S-Bahn lines available for a specific area of Hamburg.</p><ol><li>Find the source<ol><li>Open the side: <a href="https://geoportal-hamburg.de/geo-online/" target="_blank" rel="noopener noreferrer">https://geoportal-hamburg.de/geo-online/</a></li><li>Click on &quot;Themen&quot; in the upper left-hand corner</li><li>Click on &quot;Fachdaten&quot; in the dropdown-menue</li><li>Click on &quot;Transport und Verkehr&quot;</li><li>Click on &quot;HVV Streckennetz für Bahn-, Bus- und Fährlinien Hamburg&quot;</li><li>Click on the icon &quot;i&quot;</li><li>A window opens. Click on the &quot;WMS-Adresse&quot; tab</li><li>Save the link to the clipboard</li></ol></li><li>Integrate source in QGIS<ol><li>Launch QGIS</li><li>On the left in the browser window. Left click on &quot;WFS / OGC API - Feature&quot;</li><li>select &quot;new connection...&quot;</li><li>In the new dialogue window, give the connection a name (we use &quot;HVV&quot;) and copy the link into the column for the URL</li><li>Click &quot;Ok&quot;</li><li>Now open the new &quot;HVV&quot; tab and drag &quot;Strecken (Normalfahrplan)&quot; into the Layer window<ol><li>Check that the coordinate system at the bottom right is set to WGS84 EPGS:4326</li></ol></li></ol></li><li>Now load your mask as an additional layer</li><li>Intersect the layer as in the article &quot;Using a bounding box given data from a base model&quot;<ol><li>Drop-down menu &quot;Input layer&quot;: Strecken (Normalfahrplan)</li><li>Drop-down menu &quot;Overlay layer&quot;: The Mask</li><li>Click &quot;Start&quot;</li></ol></li><li>To add the stations repeat the same steps as with &quot;Strecken (Normalfahrplan)&quot; only this time with &quot;Haltestellen&quot;</li><li>Now intersect the stops with the output layer from the last intersection</li><li>To save the data in <strong>one</strong> geojson, right-click on the first intersection (routes) and export it as a geojson</li><li>Now do the same with the second intersection (stations) and save it in the same file<ol><li>A dialogue opens. Click on &quot;Attach to Layer&quot; and &quot;Ok&quot;</li></ol></li></ol><p><img loading="lazy" alt="S-BAHN-HH" src="/assets/images/s-bahn-hh-9959647534f628d49aeb340d9a24d227.png" width="1457" height="775" class="img_ev3q"></p><h1>11 View attributes of the data</h1><p>When using free data, the included attributes of data are very different. It is possible to check with QGIS after loading the data what information is in the data. We will take an example from Hamburg <a href="https://opendata-esri-de.opendata.arcgis.com/datasets/esri-de-content::ortsteile-hamburg/geoservice?geometry=7.279%2C53.395%2C11.459%2C53.965" target="_blank" rel="noopener noreferrer">here</a>. The data we use is a Hamburg vector layer. It contains all districts and boroughs of the city.</p><ol><li>Load the file into QGIS</li><li>Right click on the layer. In the menu click on &quot;Open attribute table&quot;<ol><li>All the information contained in the layer is displayed here</li></ol></li></ol><p><img loading="lazy" alt="attribut-tabelle" src="/assets/images/attribut-tabelle-1ebe8ad5626a2bc1e3e02f1ab5464c76.png" width="1241" height="316" class="img_ev3q"></p><p>It is possible to apply certain operations to the attributes. In this way it is also possible to use only certain parts of a layer. In the following example we will cut out the district of Altona.</p><ol><li>Double click on the layer</li><li>in the &quot;Source&quot; window there is a tab &quot;Object filter on data provider&quot;. At the bottom right click on the button &quot;Query creation&quot;</li><li>In the dialogue under &quot;Fields&quot; we double-click on &quot;Bezirk_Nam&quot;<ol><li>You can also view the information contained in a field in the values window</li><li>This name is now displayed in the Provider Specific Filter Expression field</li></ol></li><li>The Provider Specific Filter Expression window must contain this expression: &quot;Bezirk_Nam&quot; = &#x27;Altona&#x27;<ol><li>It is possible to create a more complex query with logical operators</li></ol></li><li>Click on &quot;Ok&quot;</li><li>Now we have chosen the district of Altona</li></ol><p><img loading="lazy" alt="selektion-altona" src="/assets/images/selection-altona-472490e0e175c51e6d0a1d2527342dd7.png" width="1538" height="724" class="img_ev3q"></p><p><strong>Hint:</strong> Depending on the version of QGIS, the query may also look different. Here is an example as an SQL query with the HVV and the S-Bahn routes.</p><p><img loading="lazy" alt="sql-request-formular" src="/assets/images/sql-request-01d96e6968a38052dcac36a5013591e7.png" width="759" height="673" class="img_ev3q"></p><h1>11 View attributes of the data / filter by data</h1><p>When using free data, the included attributes of data are very different. It is possible to check with QGIS after loading the data what information is in the data. We will take an example from Hamburg <a href="https://opendata-esri-de.opendata.arcgis.com/datasets/esri-de-content::ortsteile-hamburg/geoservice?geometry=7.279%2C53.395%2C11.459%2C53.965" target="_blank" rel="noopener noreferrer">here</a>. The data we use is a Hamburg vector layer. It contains all districts and boroughs of the city.</p><ol><li>Load the file into QGIS</li><li>Right click on the layer. In the menu click on &quot;Open attribute table&quot;<ol><li>All the information contained in the layer is displayed here</li></ol></li></ol><p><img loading="lazy" alt="attribut-tabelle" src="/assets/images/attribut-tabelle-1ebe8ad5626a2bc1e3e02f1ab5464c76.png" width="1241" height="316" class="img_ev3q"></p><p>It is possible to apply certain operations to the attributes. In this way it is also possible to use only certain parts of a layer. In the following example we will cut out the district of Altona.</p><ol><li>Double click on the layer</li><li>in the &quot;Source&quot; window there is a tab &quot;Object filter on data provider&quot;. At the bottom right click on the button &quot;Query creation&quot;</li><li>In the dialogue under &quot;Fields&quot; we double-click on &quot;Bezirk_Nam&quot;<ol><li>You can also view the information contained in a field in the values window</li><li>This name is now displayed in the Provider Specific Filter Expression field</li></ol></li><li>The Provider Specific Filter Expression window must contain this expression: &quot;Bezirk_Nam&quot; = &#x27;Altona&#x27;<ol><li>It is possible to create a more complex query with logical operators</li></ol></li><li>Click on &quot;Ok&quot;</li><li>Now we have chosen the district of Altona</li></ol><p><img loading="lazy" alt="selektion-altona" src="/assets/images/selection-altona-472490e0e175c51e6d0a1d2527342dd7.png" width="1538" height="724" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Depending on the version of QGIS, the query may also look different. </p></div></div><p>Here is an example as an SQL query with the HVV and the S-Bahn routes:</p><p><img loading="lazy" alt="sql-request-formular" src="/assets/images/sql-request-01d96e6968a38052dcac36a5013591e7.png" width="759" height="673" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/MARS-Group-HAW/MARS-Group-HAW.github.io/edit/main/docs/tutorial/data-sources/geo-data-acquisition.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorial/data-sources/create_vector_layer_raster_layer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">How to prepare a vector/raster layer file</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorial/data-sources/geospatial_data_sources"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Geospatial Data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-find-geographic-data-in-a-reasonable-dimension" class="table-of-contents__link toc-highlight">1. Find geographic data in a reasonable dimension</a></li><li><a href="#2-using-osmnx-to-generate-layer-data" class="table-of-contents__link toc-highlight">2. Using OSMnx to generate layer data</a></li><li><a href="#3-using-a-bounding-box-to-reduce-dimension-of-given-data-from-a-base-model" class="table-of-contents__link toc-highlight">3. Using a bounding box to reduce dimension of given data from a base model</a></li><li><a href="#4-using-the-bounding-box-with-data-from-the-eo-browser-esa" class="table-of-contents__link toc-highlight">4. Using the bounding box with data from the EO Browser (ESA)</a></li><li><a href="#5-generating-a-raster-layer-from-a-geotiff-file" class="table-of-contents__link toc-highlight">5. Generating a raster layer from a GeoTIFF file</a><ul><li><a href="#1-transform-the-geotiff-file-to-an-asc-file" class="table-of-contents__link toc-highlight">1. Transform the GeoTiff file to an ASC file</a></li><li><a href="#2-manipulation-of-geotiff-file" class="table-of-contents__link toc-highlight">2. Manipulation of GeoTIFF file</a></li></ul></li><li><a href="#6-public-data-sources" class="table-of-contents__link toc-highlight">6. Public data sources</a></li><li><a href="#7-openstreetmap-as-data-source" class="table-of-contents__link toc-highlight">7. OpenStreetMap as data source</a></li><li><a href="#8-time-series-layer" class="table-of-contents__link toc-highlight">8. Time series layer</a></li><li><a href="#9-data-usage-in-mars" class="table-of-contents__link toc-highlight">9. Data usage in MARS</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">MARS Framework</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial/intro">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docfx/">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/mars_group_haw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@marsgroup5456" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/MARS-Group-HAW/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/imprint">Imprint</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 MARS Group. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b8a63d78.js"></script>
<script src="/assets/js/main.fbef4b43.js"></script>
</body>
</html>