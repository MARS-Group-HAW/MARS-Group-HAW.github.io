<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial/development/environments/spatialgraphenv" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">SpatialGraphEnvironment (SGE) | MARS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.mars-group.org/docs/tutorial/development/environments/spatialgraphenv"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SpatialGraphEnvironment (SGE) | MARS"><meta data-rh="true" name="description" content="A spatial graph is a data structure that represents a graph, whose nodes have spatial locations. The addition of spatial locations to the nodes has profound effects on how these graphs are used and interpreted. The geometric graph environment for entities provides exploration and movement queries to change the internal positioning of entities along edges and nodes. In addition, it provides a routing component to find paths. A simple example showing a few functionalities can be found here."><meta data-rh="true" property="og:description" content="A spatial graph is a data structure that represents a graph, whose nodes have spatial locations. The addition of spatial locations to the nodes has profound effects on how these graphs are used and interpreted. The geometric graph environment for entities provides exploration and movement queries to change the internal positioning of entities along edges and nodes. In addition, it provides a routing component to find paths. A simple example showing a few functionalities can be found here."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.mars-group.org/docs/tutorial/development/environments/spatialgraphenv"><link data-rh="true" rel="alternate" href="https://www.mars-group.org/docs/tutorial/development/environments/spatialgraphenv" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.mars-group.org/docs/tutorial/development/environments/spatialgraphenv" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://TCUX0F1UOS-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="MARS RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="MARS Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="MARS" href="/opensearch.xml">

<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.4cab72d9.css">
<script src="/assets/js/runtime~main.4e7bf47b.js" defer="defer"></script>
<script src="/assets/js/main.278b3071.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/MARS GROUP Icon.png" alt="MARS GROUP Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/MARS GROUP Icon.png" alt="MARS GROUP Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">MARS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/tutorial/intro">Docs</a><a class="navbar__item navbar__link" href="/docs/api/">API</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/team">Team</a><a class="navbar__item navbar__link" href="/student">Offers for theses</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/projects">Projects</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/projects/esida">ESIDA</a></li><li><a class="dropdown__link" href="/projects/smartopenhamburg">SOHH</a></li><li><a class="dropdown__link" href="/projects/emsafrica">EMSAfrica</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Student Work</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/student-work/theses">Theses</a></li><li><a class="dropdown__link" href="/student-work/posters">Posters</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/MARS-Group-HAW/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/mars---basics">MARS - Basics</a><button aria-label="Expand sidebar category &#x27;MARS - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/development">Development</a><button aria-label="Collapse sidebar category &#x27;Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/createing-a-model">Creating a model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/model">ModelDescription</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/agent">Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/entity">Entity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/layers">Layers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/spawning">Spawning and Removing Agents and Entities</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/tutorial/development/environments/">Environments</a><button aria-label="Collapse sidebar category &#x27;Environments&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/environments/spatialhashenv">SpatialHashEnvironment (Grid Environment)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/environments/geohashenv">GeoHashEnvironment (Geospatial Grid Environment)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorial/development/environments/spatialgraphenv">SpatialGraphEnvironment (SGE)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/environments/collisionenv">Collision Environment</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/known-problems">Known Problems and Solutions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/development/deploy_in_cloud">Kubernetes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/configuration">Configuration</a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tutorial/data-sources/">Data sources</a><button aria-label="Expand sidebar category &#x27;Data sources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/analysis--visualization">Analysis &amp; Visualization</a><button aria-label="Expand sidebar category &#x27;Analysis &amp; Visualization&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/snippets">Snippets</a><button aria-label="Expand sidebar category &#x27;Snippets&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tutorial/soh/">SmartOpenHamburg</a><button aria-label="Expand sidebar category &#x27;SmartOpenHamburg&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/mars-explorer">MARS Explorer</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/development"><span itemprop="name">Development</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/tutorial/development/environments/"><span itemprop="name">Environments</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SpatialGraphEnvironment (SGE)</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SpatialGraphEnvironment (SGE)</h1></header>
<p>A spatial graph is a data structure that represents a graph, whose nodes have spatial locations. The addition of spatial locations to the nodes has profound effects on how these graphs are used and interpreted. The geometric graph environment for entities provides exploration and movement queries to change the internal positioning of entities along edges and nodes. In addition, it provides a routing component to find paths. A simple example showing a few functionalities can be found <a href="https://git.haw-hamburg.de/mars/model-deployments/-/tree/master/C%23%20Models/SGE_Test%20CS" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-environment">Creating an environment<a href="#creating-an-environment" class="hash-link" aria-label="Direct link to Creating an environment" title="Direct link to Creating an environment">​</a></h2>
<p>There are several ways to initialize a SpatialGraphEnvironment (SGE). The simplest possibility is to provide a georeferenced file (the format must be processable by the MARS runtime system) as a parameter.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> environment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">SpatialGraphEnvironment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&lt;graphfile to import&gt;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interaction-withwithin-the-spatial-graph-environment-sge">Interaction with/within the Spatial Graph Environment (SGE)<a href="#interaction-withwithin-the-spatial-graph-environment-sge" class="hash-link" aria-label="Direct link to Interaction with/within the Spatial Graph Environment (SGE)" title="Direct link to Interaction with/within the Spatial Graph Environment (SGE)">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-an-agent-to-the-environment">Add an agent to the environment<a href="#add-an-agent-to-the-environment" class="hash-link" aria-label="Direct link to Add an agent to the environment" title="Direct link to Add an agent to the environment">​</a></h3>
<p>To add an object (for example, an agent or entity) to the SGE, the <code>Insert</code> method of the environment is used. For example, This method can be called in the <code>Init</code> method of an agent to insert the agent into the environment.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Position</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">CreatePosition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Longitude</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Latitude</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> startNode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NearestNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">position</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Insert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> startNode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Agents are always inserted on nodes. The agent must therefore be added to the environment on a node. In this example, the agent has coordinates (longitude and latitude). The nearest node in the environment is searched for via the coordinates and the agent is placed there.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If the coordinates are not within the SGE, the nearest node will be selected anyway – this can lead to the node not being close to the actual coordinates. Different types of entities can be inserted into an SGE. For example, bicycles or cars etc. are possible.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="remove-an-existing-entity">Remove an existing entity<a href="#remove-an-existing-entity" class="hash-link" aria-label="Direct link to Remove an existing entity" title="Direct link to Remove an existing entity">​</a></h3>
<p>Removing an agent follows the same principle as adding it. The Remove method is executed via the environment and the entity to be removed is specified.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">entity to </span><span class="token keyword" style="color:#00009f">remove</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="move-an-agent-to-another-location">Move an agent to another location<a href="#move-an-agent-to-another-location" class="hash-link" aria-label="Direct link to Move an agent to another location" title="Direct link to Move an agent to another location">​</a></h3>
<p>In order to create a route in the SGE, which can then be processed, it must first be created. A route can be determined via the FindRoute method of the environment by specifying the start and destination (always from node to node). Once a route has been worked through, the <code>GoalReached</code> property is automatically set to <code>True</code>; this property can then be used to check whether an agent has arrived at its destination.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> startNode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetRandomNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> goalNode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetRandomNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> route </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FindRoute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">startNode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> goalNode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">route</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GoalReached</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Move</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Agent</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> route</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Movement speed of the agent</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WriteLine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;The Agent has arrived!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="explore-other-agents-and-resources">Explore other agents and resources<a href="#explore-other-agents-and-resources" class="hash-link" aria-label="Direct link to Explore other agents and resources" title="Direct link to Explore other agents and resources">​</a></h2>
<p>Agents can explore an <code>SpatialGraphEnvironment</code> to identify other agents and resources by calling the <code>Explore(&lt;entity&gt;, &lt;route&gt;, &lt;distance&gt;)</code> method on the environment. Below is an example.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">SpatialGraphExploreResult</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Explore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">entity</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">route</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">distance</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This call explores the <code>Environment</code> starting from the position of <code>&lt;entity&gt;</code>. Specifically, the environment is explored along the <code>&lt;route&gt;</code> at a length of <code>&lt;distance&gt;</code> (in meters). For example, the call <code>Environment.Explore(this, Route, 100)</code> explores the environment starting from the position of the caller and going along the <code>Route</code> object for <code>100</code> meters. The return of such a call contains the route segments (i.e., edges of the <code>SpatialGraphEnvironment</code>) that are within the specified distance. The <code>result</code> contains all edges (that are reachable given the specified <code>distance</code>), along with their information. This might include other agents that are currently on those edges.</p>
<p>The above example explores in the forward direction (per default). Alternatively, the direction of exploration can be specified, as shown in the below example.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">SpatialGraphExploreResult</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Explore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">entity</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">route</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">distance</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">only_next</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">explore_direction</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This call has two additional parameters <code>&lt;only_next&gt;</code> (set to <code>false</code> per default) and <code>&lt;explore_direction&gt;</code> (set to <code>ExploreDirection.Forward</code> per default). <code>&lt;only_next&gt;</code> is a boolean that, if <code>true</code>, returns only the first entity/agent per edge that is returned in <code>result</code>. The parameter <code>&lt;explore_direction&gt;</code> specifies the direction in which the exploration should occur. This can be either <code>ExploreDirection.Forward</code>, <code>ExploreDirection.Backward</code>, or <code>ExploreDirection.Both</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Usually, an agent&#x27;s exploration activities occur via a <code>RasterLayer</code> or <code>VectorLayer</code>. For more information on the exploration options provided by these layer types, please click <a href="/docs/tutorial/development/layers">here</a>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="importing-data-for-a-sge">Importing data for a SGE<a href="#importing-data-for-a-sge" class="hash-link" aria-label="Direct link to Importing data for a SGE" title="Direct link to Importing data for a SGE">​</a></h2>
<p>As can be seen in the previous section, you can import data by specifying a file. This data must be in a processable format. Such a format contains spatial information data. This data can also be loaded via a configuration file. The following is an example of loading such data via <em>config.json</em>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Previous section...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;layers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;ResidentLayer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;inputs&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;file&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Resources/walk_graph_layer.geojson&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;inputConfiguration&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		    </span><span class="token property" style="color:#36acaa">&quot;modalities&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Walking&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		    </span><span class="token property" style="color:#36acaa">&quot;isBidirectedGraph&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	     </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	    </span><span class="token property" style="color:#36acaa">&quot;file&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Resources/drive_graph_layer.geojson&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token property" style="color:#36acaa">&quot;inputConfiguration&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token property" style="color:#36acaa">&quot;modalities&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Cycling&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Next section...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, the layer type <code>ResidentLayer</code> receives data from two input files. The first input file contains data that represents a pedestrian travel network, while the second input file contains data that represents a car and bicycle travel network. Each network is associated with one or more travel modalities. A travel modality is a manner of moving in a given network. For example, in a pedestrian travel network, it is typically possible to move on foot (<code>modality = Walking</code>), but it should not be possible to travel by car (<code>modality = Driving</code>). However, some modalities can be used on more than one travel network – such as <code>Cycling</code>, which can be used on a pedestrian network as well as on a driving network.</p>
<p><code>isBidirectedGraph</code> is an optional parameter. It indicates whether the invited graph is directed or not.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Again, two environments were loaded to illustrate. It is also possible to load only one environment.</p></div></div>
<p>Within the <code>InitLayer(...)</code> method of the <code>ResidentLayer</code> class, the data can be loaded as follows:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> inputs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> layerInitData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LayerInitConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Input</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inputs </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Environment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">SpatialGraphEnvironment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">SpatialGraphOptions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		GraphImports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> layerInputData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LayerInputConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Inputs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This code snippet can be used to integrate input data from an GIS data file (e.g., GeoJSON) into the environment. For more information and an example, please see <a href="https://git.haw-hamburg.de/mars/model-deployments/-/blob/master/C%23%20Models/SGE_Test%20CS/SGE_Test%20CS/Model/ResidentLayer.cs" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exporting-data-for-a-sge">Exporting data for a SGE<a href="#exporting-data-for-a-sge" class="hash-link" aria-label="Direct link to Exporting data for a SGE" title="Direct link to Exporting data for a SGE">​</a></h2>
<p>There can be various situations where it becomes necessary to view the environment in a GIS. In this case, it is possible to perform an export. To export an SGE, a new GeoJSON file can be created, and the environment copied into it using the <code>ToGeoJson()</code> method.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">File</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WriteAllText</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;SGE.geojson&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ToGeoJson</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="special-cases">Special Cases<a href="#special-cases" class="hash-link" aria-label="Direct link to Special Cases" title="Direct link to Special Cases">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="import-multiple-graphs-with-different-spatialgraphoptions">Import multiple graphs with different <code>SpatialGraphOptions</code><a href="#import-multiple-graphs-with-different-spatialgraphoptions" class="hash-link" aria-label="Direct link to import-multiple-graphs-with-different-spatialgraphoptions" title="Direct link to import-multiple-graphs-with-different-spatialgraphoptions">​</a></h3>
<p>In the following example, an environment is created within which agents can walk or cycle. Both modalities have different environments. Through this separation, pedestrian paths and bicycle paths (in this example) are represented.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> environment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">SpatialGraphEnvironment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">SpatialGraphOptions</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	GraphImports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">List</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">&lt;</span><span class="token constructor-invocation class-name">Input</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">&gt;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			File </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;filename for walking graph here&gt;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			InputConfiguration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">InputConfiguration</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				Modalities </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">HashSet</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">&lt;</span><span class="token constructor-invocation class-name">SpatialModalityType</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> SpatialModalityType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Walking </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			File </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;filename for driving graph here&gt;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			InputConfiguration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">InputConfiguration</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				IsBiDirectedImport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				InferNodesOnEdgeIntersections </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				Modalities </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">HashSet</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">&lt;</span><span class="token constructor-invocation class-name">SpatialModalityType</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> SpatialModalityType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CyclingOwnBike</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here is another example in C# code:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;example environment file&gt;&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> input </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Input</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    File </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    InputConfiguration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">InputConfiguration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> InferNodesOnEdgeIntersections </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> IsBiDirectedImport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> graph </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">SpatialGraphEnvironment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spatialgraphoptions">SpatialGraphOptions<a href="#spatialgraphoptions" class="hash-link" aria-label="Direct link to SpatialGraphOptions" title="Direct link to SpatialGraphOptions">​</a></h3>
<p>This class <code>SpatialGraphOptions</code> provides all relevant options for building the <code>ISpatialGraphEnvironment</code>. Inside the <code>InputConfiguration</code> the files are specified which are associated with a certain modal type.  A <code>HashSet</code> of modalities is then initialized. The <code>SpatialModalityType</code> is the walking modality for the walk graph and the cycling modality for the drive graph.</p>
<p>Other <code>SpatialGraphOptions</code> are:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="infernodesonedgeintersections">InferNodesOnEdgeIntersections<a href="#infernodesonedgeintersections" class="hash-link" aria-label="Direct link to InferNodesOnEdgeIntersections" title="Direct link to InferNodesOnEdgeIntersections">​</a></h4>
<p>The <code>InferNodesOnEdgeIntersections</code> option (boolean): Geometries where LINESTRINGs do not end flush on intersections cannot be (functionally) imported, as not all intersections/routes can be navigated. If the option is activated, nodes are inserted at the ends of these LINESTRINGs. An example: The red nodes are inserted because the upper one is missing a section of an intersection (starting from the node, there are different edges) and the lower node is missing completely (here the graph ends).</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>This option is especially useful if you have a graph with missing nodes that should be inferred by the importer.</p></div></div>
<p><img decoding="async" loading="lazy" alt="Infer Nodes on Edge Intersections" src="data:image/png;base64,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" width="260" height="389" class="img_ev3q"></p>
<p>Because the import with this additional validation is expensive computational wise, it is handy to export the so imported and now enhanced graph, both for visual validation in QGIS as well as usage for following simulation runs instead of the raw graph (see <a href="#exporting-data-for-a-sge">section exporting</a>).</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SpatialGraphMediatorLayer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;inputs&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;file&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;resources/graph.geojson&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;inputConfiguration&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;isBidirectedGraph&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;inferNodesOnEdgeIntersections&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nodeintegrationkind">NodeIntegrationKind<a href="#nodeintegrationkind" class="hash-link" aria-label="Direct link to NodeIntegrationKind" title="Direct link to NodeIntegrationKind">​</a></h4>
<p>The <code>NodeIntegrationKind</code> option (Enum): When inviting different environments, you need transitions between the different graphs. These transitions are used so that an agent can switch from one graph to the other. Possible settings are:</p>
<ul>
<li><code>MergeNode</code>: If two nodes are spatially close to each other, the first node is chosen and the second node is discarded. The associated edges are redirected to the first node.</li>
<li><code>LinkNode</code>: If two nodes are spatially close to each other, an edge is created between them to connects them to each other.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Example of MergeNode and LinkNode" src="/assets/images/merge_node_link_node-f5feeb309cd91151e5df487825c3a93d.png" width="1905" height="825" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In the above example, two environments are imported. Alternatively, it is possible to import only one environment. In this case, only one file would be specified under <code>Inputs</code>.</p></div></div>
<p>The <code>NoHelperNodes</code> option imports all nodes at first. When the edges are imported, no helper nodes are created to have a clean ending of an edge (if a node is not within tolerance range) but always the nearest node is chosen as start/end of an edge.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>This is especially helpful when importing train graphs, where the nodes are semantically stations and the edges need to serve these stations, therefor have to end in a station and not in a helper node nearby.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="validate-import-result">Validate import result<a href="#validate-import-result" class="hash-link" aria-label="Direct link to Validate import result" title="Direct link to Validate import result">​</a></h2>
<p>Generally, it is advisable to examine and validate an environment after it has been imported. This can be done by exporting the imported environment as follows:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">File</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WriteAllText</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;result_graph_env.geojson&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ToGeoJson</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/MARS-Group-HAW/MARS-Group-HAW.github.io/edit/main/docs/tutorial/development/environments/spatialgraphenv.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorial/development/environments/geohashenv"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GeoHashEnvironment (Geospatial Grid Environment)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorial/development/environments/collisionenv"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Collision Environment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-an-environment" class="table-of-contents__link toc-highlight">Creating an environment</a></li><li><a href="#interaction-withwithin-the-spatial-graph-environment-sge" class="table-of-contents__link toc-highlight">Interaction with/within the Spatial Graph Environment (SGE)</a><ul><li><a href="#add-an-agent-to-the-environment" class="table-of-contents__link toc-highlight">Add an agent to the environment</a></li><li><a href="#remove-an-existing-entity" class="table-of-contents__link toc-highlight">Remove an existing entity</a></li><li><a href="#move-an-agent-to-another-location" class="table-of-contents__link toc-highlight">Move an agent to another location</a></li></ul></li><li><a href="#explore-other-agents-and-resources" class="table-of-contents__link toc-highlight">Explore other agents and resources</a></li><li><a href="#importing-data-for-a-sge" class="table-of-contents__link toc-highlight">Importing data for a SGE</a></li><li><a href="#exporting-data-for-a-sge" class="table-of-contents__link toc-highlight">Exporting data for a SGE</a></li><li><a href="#special-cases" class="table-of-contents__link toc-highlight">Special Cases</a><ul><li><a href="#import-multiple-graphs-with-different-spatialgraphoptions" class="table-of-contents__link toc-highlight">Import multiple graphs with different <code>SpatialGraphOptions</code></a></li><li><a href="#spatialgraphoptions" class="table-of-contents__link toc-highlight">SpatialGraphOptions</a></li></ul></li><li><a href="#validate-import-result" class="table-of-contents__link toc-highlight">Validate import result</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">MARS Framework</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial/intro">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docfx/">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/mars_group_haw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@marsgroup5456" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/MARS-Group-HAW/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/imprint">Imprint</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 MARS Group. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>